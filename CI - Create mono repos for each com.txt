CI - Create mono repos for each component of Axiad Cloud for Golden AMI:-



Notes:- 
	The team first has work on the creation of golden AMI, so they have axiad cloud in that they have code for there application deployment, in that deployment they have chef -repo inside that there is code for chef and in that chef it contains recipes of it(chef), so inside those receipes there are some things related to package installation, so what axiad team wanted was suppose if there ec2 instance creates so there package installation should not be there (in the sense that pckg installtion should not be in that axiad cloud or in sense of that pckg installation in chef receipes) so that package installation should go in there base image of there components Suppose like there TMQ component so in active NQ component the pckg should go and install there and those rbc should not install so for that our infobeans team has created the golden AMI and  for that our team has use aws service called EC2 image builder and this service(EC2 image builder) builds the AMI so team has done some configuration and created the pipelines, for example there one of the component is keycloak, so they have taken this component and created the pipeline for keycloak component, then for that keycloak they have given some configuration then after that whenever that pipeline run then it will generate an image with some ami id and we are calling that ami id as Golden ami so it has generated the golden image for that keycloak component, now for that golden ami, its information(Code) has stored in s3 bucket for key cloak, so in s3  we have bucket name golden ami so inside that in component section inside key cloak As there are some multiple components like key clock so we have generated golden ami for key cloak component that's why we are storing its information(Like some configuration) in s3 bucket inside key clock component section, so inside that there is 1 file called keycloak_component.yaml which is needed for image builder so it contains instruction about what is needed for the  AMI so it contain some sh files so basically our team has put that package installation related things in this sh files whichever the things in rb files they  have remove those and putted in this sh files so that from which ami id my instance is creating so It will already install that so basically this component yaml contains what we need to execute inside our AMI so this things are in our s3 buckets, and also in that s3 bucket if some common things is there related to all the componants they have putted that in the common folder inside the s3 bucket so like all the individual components there are sh files related to them which they have putted in that s3 bucket related to those componants(Like componants section there are 2 files one contain .yaml and othere is .sh)


so now from this task the axiad team wants to achieve is like suppose our team has told them that if they want to do anything related to this golden ami(For the components) like updating or changing version (like consider for key cloak) then that have to update that sh files so after, that image builder will start and it will build the image  but now this axiad team wanted is that this things are in s3 is fine but they don't want to do changes in s3 they want to put this things in bitbucket, so if they want to change suppose version then they will that update on the bitbucket SO LIKE whatever there configuration which is in s3 they want that in bitcuket as well, so if they wanted to do update then they should do on bitbucket and it will reflect in AWS as well 



